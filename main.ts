namespace SpriteKind {
    export const A = SpriteKind.create()
    export const B = SpriteKind.create()
}
sprites.onOverlap(SpriteKind.A, SpriteKind.Enemy, function (sprite, otherSprite) {
    if (controller.A.isPressed()) {
        sprites.destroyAllSpritesOfKind(SpriteKind.A, effects.spray, 500)
        animation.runImageAnimation(
        player_1,
        assets.animation`a attact`,
        100,
        false
        )
        animation.runImageAnimation(
        player_2,
        assets.animation`stop 2`,
        200,
        false
        )
        timer.after(700, function () {
            health_enemy.x += 12
        })
        pause(1000)
        gg += 1
    } else if (controller.B.isPressed()) {
        sprites.destroyAllSpritesOfKind(SpriteKind.A, effects.spray, 500)
        animation.runImageAnimation(
        player_1,
        assets.animation`stop`,
        100,
        false
        )
        animation.runImageAnimation(
        player_2,
        assets.animation`places2`,
        100,
        false
        )
        timer.after(700, function () {
            health.x += -12
        })
        pause(1000)
        dead += 1
    } else {
        animation.runImageAnimation(
        player_1,
        assets.animation`stop`,
        80,
        false
        )
        animation.runImageAnimation(
        player_2,
        assets.animation`places0`,
        80,
        false
        )
        timer.after(700, function () {
            health.x += -12
        })
        pause(1000)
        dead += 1
    }
})
sprites.onOverlap(SpriteKind.B, SpriteKind.Enemy, function (sprite, otherSprite) {
    if (controller.B.isPressed()) {
        sprites.destroyAllSpritesOfKind(SpriteKind.B, effects.spray, 500)
        animation.runImageAnimation(
        player_1,
        assets.animation`a attact`,
        100,
        false
        )
        animation.runImageAnimation(
        player_2,
        assets.animation`stop 2`,
        200,
        false
        )
        timer.after(700, function () {
            health_enemy.x += 12
        })
        pause(1000)
        gg += 1
    } else if (controller.A.isPressed()) {
        sprites.destroyAllSpritesOfKind(SpriteKind.B, effects.spray, 500)
        animation.runImageAnimation(
        player_1,
        assets.animation`stop`,
        100,
        false
        )
        animation.runImageAnimation(
        player_2,
        assets.animation`places2`,
        100,
        false
        )
        timer.after(700, function () {
            health.x += -12
        })
        pause(1000)
        dead += 1
    } else {
        animation.runImageAnimation(
        player_1,
        assets.animation`stop`,
        80,
        false
        )
        animation.runImageAnimation(
        player_2,
        assets.animation`places0`,
        80,
        false
        )
        timer.after(700, function () {
            health.x += -12
        })
        pause(1000)
        dead += 1
    }
})
let beat = 0
let copy2: Sprite = null
let copy: Sprite = null
let dead = 0
let gg = 0
let player_2: Sprite = null
let health_enemy: Sprite = null
let health: Sprite = null
let player_1: Sprite = null
scene.setBackgroundImage(assets.image`myImage2`)
player_1 = sprites.create(assets.image`player`, SpriteKind.Player)
let dialogue = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . 3 . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.Player)
health = sprites.create(img`
    222222222222222222222222222222222222222222222222222222222222222222222222222222222222............................................................................
    222222222222222222222222222222222222222222222222222222222222222222222222222222222222............................................................................
    222222222222222222222222222222222222222222222222222222222222222222222222222222222222............................................................................
    222222222222222222222222222222222222222222222222222222222222222222222222222222222222............................................................................
    222222222222222222222222222222222222222222222222222222222222222222222222222222222222............................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    `, SpriteKind.Player)
health_enemy = sprites.create(img`
    .................................................................................7777777777777777777777777777777777777777777777777777777777777777777777777777777
    .................................................................................7777777777777777777777777777777777777777777777777777777777777777777777777777777
    .................................................................................7777777777777777777777777777777777777777777777777777777777777777777777777777777
    .................................................................................7777777777777777777777777777777777777777777777777777777777777777777777777777777
    .................................................................................7777777777777777777777777777777777777777777777777777777777777777777777777777777
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    `, SpriteKind.Player)
let light2 = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.Player)
player_2 = sprites.create(assets.image`player 2`, SpriteKind.Player)
let checkpoint = sprites.create(img`
    5555555555555555555
    5555555555555555555
    ...................
    ...................
    ...................
    5555555555555555555
    5555555555555555555
    ...................
    ...................
    5555555555555555555
    5555555555555555555
    ...................
    ...................
    5555555555555555555
    5555555555555555555
    ...................
    ...................
    5555555555555555555
    5555555555555555555
    `, SpriteKind.Enemy)
checkpoint.setPosition(120, 16)
dialogue.setPosition(64, 66)
dialogue.sayText("\"when the quaver arrives the staff\"", 1500, true)
pause(1500)
dialogue.sayText("\"Press A to let me show What I can do\"", 1500, false)
pause(1500)
dialogue.sayText("\"and when the quarter rest arrives the staff\"", 1500, true)
pause(1500)
dialogue.sayText("\"Press B instead\"", 1500, false)
game.onUpdateInterval(3900, function () {
    timer.background(function () {
        music.play(music.createSong(assets.song`mortal combat`), music.PlaybackMode.UntilDone)
        music.play(music.randomizeSound(music.createSoundEffect(WaveShape.Noise, 3300, 1400, 255, 0, 150, SoundExpressionEffect.Warble, InterpolationCurve.Linear)), music.PlaybackMode.UntilDone)
        music.play(music.melodyPlayable(music.pewPew), music.PlaybackMode.UntilDone)
        music.play(music.createSong(hex`00780004080200`), music.PlaybackMode.UntilDone)
    })
})
game.onUpdateInterval(2000, function () {
    if (randint(0, 1) == 0) {
        copy = sprites.create(img`
            . . . . . . . . . f f . . . . 
            . . . . . . . . . f f f . . . 
            . . . . . . . . . f f f f . . 
            . . . . . . . . . f . f f f f 
            . . . . . . . . . f . . . f f 
            . . . . . . . . . f . . . f f 
            . . . . . . . . . f . . . f f 
            . . . . . . . . . f . . . f f 
            . . . . . . . . . f . . . f f 
            . . . . . . . . . f . . . f f 
            . . . . . . . . . f . . f f . 
            . . . . . . . . . f . f f . . 
            . . . . . . . . . f . . . . . 
            . . . . . . . . . f . . . . . 
            . . . f f f f f f f . . . . . 
            . f f f f f f f f f . . . . . 
            . f f f f f f f f f . . . . . 
            f f f f f f f f f . . . . . . 
            . f f f f f f . . . . . . . . 
            `, SpriteKind.A)
        copy.setPosition(-5, 17)
        copy.setVelocity(80, 0)
    } else {
        copy2 = sprites.create(img`
            . . . . f . . . . . . . . . . 
            . . . . . f f . . . . . . . . 
            . . . . . f f f . . . . . . . 
            . . . . . f f f f . . . . . . 
            . . . . . f f f f f f . . . . 
            . . . . f f f f f f . . . . . 
            . . . f f f f f f f . . . . . 
            . . f f f f f f . . . . . . . 
            . . f f f f f f . . . . . . . 
            . . . f f f f . . . . . . . . 
            . . . f f f f . . . . . . . . 
            . . . . f f f f . . . . . . . 
            . . . . . f f f . . . . . . . 
            . . f f f f f f f f . . . . . 
            . f f f f f f f f f . . . . . 
            . f f f f f . . . . f . . . . 
            . f f f f . . . . . . . . . . 
            . . . f f . . . . . . . . . . 
            . . . . f f . . . . . . . . . 
            `, SpriteKind.B)
        copy2.setPosition(-5, 17)
        copy2.setVelocity(80, 0)
    }
})
forever(function () {
    animation.runImageAnimation(
    light2,
    [img`
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `],
    1500,
    false
    )
    beat += 1
    pause(500)
    animation.runImageAnimation(
    light2,
    [img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `],
    1500,
    false
    )
    beat += -1
    pause(500)
})
forever(function () {
    if (gg == 7) {
        game.gameOver(true)
    }
    if (dead == 7) {
        game.gameOver(false)
    }
})
